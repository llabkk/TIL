### Read
단일 게시글 조회: routing


### Create
Create 로직을 구현하기 위해 2개의 view함수가 필요함
- 사용자의 입력을 받을 페이지를 렌더링
- 사용자가 입력한 요청 데이터를 받아 DB에 저장

### HTTP request methods
#### HTTP
HTTP: 네트워크 상에서 데이터(리소스)를 주고 받기위한 약속

- 데이터에 대해 수행을 원하는 작업(행동)을 나타내는 것
  - 서버에게 원하는 작업의 종류를 알려주는 역할
- 대표적인 메서드
  - GET
    - 리소스 조회
      - URL에 데이터가 노출됨
      - 캐싱 가능
  - POST
    - 데이터 생성/전송
      - 요청 본문에 데이터
      - 데이터 노출 없음

#### GET method
GET method: 서버로부터 데이터를 요청하고 받아오는 데(조회) 사용

GET method 특징
1. 데이터 전송
  - URL의 쿼리 문자열을 통해 데이터를 전송
2. 데이터 제한
  - URL 길이에 제한이 있어 대량의 데이터 전송에는 적합하지 않음
3. 브라우저 히스토리
  - 요청 URL이 브라우저 히스토리에 남음
4. 캐싱
  - 브라우저는 GET 요청의 응답을 로컬에 저장할 수 있음
  - 동일한 URL로 다시 요청할 때, 서버에 접속하지 않고 저장된 결과를 사용
  - 페이지 로딩 시간을 크게 단축

#### POST method
POST method: 서버에 데이터를 제출하여 리소스를 변경(생성, 수정, 삭제)하는 데 사용

POST method 특징
1. 데이터 전송
  - HTTP Body를 통해 데이터를 전송
2. 데이터 제한
  - GET에 비해 더 많은 양의 데이터르 전송할 수 있음
3. 브라우저 히스토리
  - POST요청은 브라우저 히스토리에 남지 않음
4. 캐싱
  - POST요청은 기본적으로 캐시 할 수 없음
  - POST요청이 일반적으로 서버의 상태를 변경하는 작업을 수행하기 때문

GET & POST method 정리
- GET
  - 데이터 조회
- POST
  - 데이터 생성이나 수정에 주로 사용

### HTTP response status code
HTTP response status code: 서버가 클라이언트의 요청에 대한 처리 결과를 나타내는 3자리 숫자
403 Forbidden: 서버에 요청이 전달되었지만, 권한 때문에 거절되었다는 것을 의미

#### CSRF
CSRF(Cross-Site-Request-Forgery): 사이트 간 요청 위조
- 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행동(글쓰기, 정보, 수정, 송금 등)을 특정 웹사이트에 요청하게 만드는 해킹 방식

CSRF 공격의 방어
- Django는 이런 공격을 막기 위해 CSRF 토큰이라는 안전장치를 사용

요청 시 CSRF Token을 함께 보내야 하는 이유
- Django 서버는 해당 요청이 DB에 데이터를 하나 생성하는(DB에 영향을 주는) 요청에 대해 Django가 직접 제공한 페이지에서 데이터를 작성하고 있는 것인지에 대한 확인 수단이 필요한 것
- 겉모습이 똑같은 위조 사이트나 정상적이지 않은 요청에 대한 방어 수단
- 기존 요청 형태
  - 요청 데이터 -> 게시글 작성
- 변경 요청 형태
  - 요청 데이터 + 인증 토큰 -> 게시글 작성

POST일 때만 Token을 확인하는 이유
- POST는 단순 조회(GET)와 달리 리소스의 변경(생성, 수정, 삭제)을 요청하는 의미와 기술적 특성을 지님
- DB에 조작을 가하는 요청은 반드시 인증 수단이 필요

### Redirect
redirect(): 클라이언트가 인자에 작성된 주소로 다시 요청을 보내도록 하는 함수

```python
def create(reqeust):
    return redirect('articles:detail', article.pk)
```

1. redirect 응답을 받은 클라이언트는 detail url로 다시 요청을 보내게 됨
2. 결과적으로 detail view함수가 호출되어 detail view함수의 반환 결과인 detail 페이지를 응답 받게 되는 것
- 결국 사용자는 게시글 작성 후 작성된 게시글의 detail 페이지로 이동하는 것으로 느끼게 됨

![redirect 동작 원리](redirect.png)

### Delete
조회한 데이터 삭제(delets()) 후 보여주고 싶은 페이지를 redirect

### Update
Create와 마찬가지로 Update 로직의 구성을 위해서는 두 개의 view 함수가 필요함

1. edit: 사용자 입력 데이터를 받을 페이지를 렌더링
2. update: 사용자가 입력한 요청 데이터를 받아 DB에 저장

기능 구현: 수정 시 이전 데이터가 출력 될 수 있도록 작성
- input 요소: value 속성으로 기존 데이터 입력

```django
<input type="text" name="title" id="title" value="기존 데이터>
```
- textarea 요소: 태그 여닫는 사이에 값을 입력, value 속성 없음

```
<textarea name="content" id="content">기존 데이터</textarea>
```
### 참고
#### GET & POST 비교

X|GET|POST
:---:|:---:|:---:
데이터 전송 방식|URL의 Query string parameter|HTTP body
데이터 크기 제한|브라우저 제공 URL의 최대 길이|제한 없음
사용 목적|데이터 검색 및 조회|데이터 제출 및 변경

GET 요청이 필요한 경우
- 캐싱 및 성능
  - GET 요청은 캐시(Cache)될 수 있고, 이전에 요청한 정보를 새로 요청하지 않고 사용할 수 있음
  - 특히, 동일한 검색 결과를 여러 번 요청하는 경우 GET 요청은 캐시를 활용하여 더 빠르게 응답할 수 있음
- 가시성 및 공유
  - GET 요청은 URL에 데이터가 노출되어 사용자가 해당 URL을 북마크하거나 다른 사람과 공유하기 용이
- RESTfull API 설계
  - HTTP 메서드의 의미에 따라 동작하도록 디자인된 API의 일관성을 유지할 수 있음

#### 캐시(Cache)
캐시(Cache): 데이터나 정보를 임시로 저장하여, 다시 요청할 때 빠르게 제공하는 저장 공간

캐시의 장점
- 빠른 응답 시간: 이미 저장된 데이터를 즉시 제공하여 사용자 경험 향상
- 서버 부하 감소: 반복적인 데이터 요청을 줄여 서버 자원 절약